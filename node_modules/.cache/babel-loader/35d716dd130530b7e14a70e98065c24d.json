{"ast":null,"code":"import _regeneratorRuntime from \"/home/jamorim/eldorado-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jamorim/eldorado-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/jamorim/eldorado-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/jamorim/eldorado-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jamorim/eldorado-pokedex/src/pages/pokedex/Pokedex.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Cards from \"./cards/Cards\";\nimport { Container, Title, StyledLink } from \"./Stylespokedex\";\nimport Footer from \"../../components/footer/Footer\";\nimport Header from \"../../components/header/Header\";\nimport { usePoke } from \"../../components/context/Provider\";\nimport Search from \"./search/Search\";\nimport api from \"../../service/Api\";\nimport { useLocation, useHistory, Link } from \"react-router-dom\";\nimport qs from \"query-string\";\nimport { IoMdCreate } from 'react-icons/IoMdCreate';\n\nfunction Pokedex() {\n  var _usePoke = usePoke(),\n      setPokemonData = _usePoke.setPokemonData,\n      search = _usePoke.search,\n      active = _usePoke.active,\n      setActive = _usePoke.setActive,\n      pokemonData = _usePoke.pokemonData,\n      setInitialdatapokemon = _usePoke.setInitialdatapokemon,\n      initialdatapokemon = _usePoke.initialdatapokemon;\n\n  var location = useLocation();\n  var history = useHistory();\n\n  var _useState = useState(getActualPage() || 1),\n      _useState2 = _slicedToArray(_useState, 2),\n      actualPage = _useState2[0],\n      setActualPage = _useState2[1];\n\n  function getActualPage() {\n    var queryParams = qs.parse(location.search);\n    var page = queryParams.page;\n    return page ? Number(page) : undefined;\n  }\n\n  useEffect(function () {\n    var queryParams = qs.parse(location.search);\n    history.push({\n      search: qs.stringify(_objectSpread({}, queryParams, {\n        page: actualPage\n      }))\n    });\n  }, [actualPage]);\n  useEffect(function () {\n    if (!search) {\n      setPokemonData(initialdatapokemon);\n      return;\n    }\n  }, [search]);\n  useEffect(function () {\n    function loadPokemon() {\n      return _loadPokemon.apply(this, arguments);\n    }\n\n    function _loadPokemon() {\n      _loadPokemon = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                api.get(\"/pokemons?page=\".concat(actualPage)).then(function (response) {\n                  console.log(response.data);\n                  setPokemonData(response.data);\n                  setInitialdatapokemon(response.data);\n                }).catch(function (error) {\n                  console.log(\"Error getting fake data: \" + error);\n                });\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _loadPokemon.apply(this, arguments);\n    }\n\n    loadPokemon();\n  }, [actualPage]);\n\n  var Searchpokemon = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var regex, isSuggestedPokemon, suggestedPokemons;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              regex = \"\".concat(search);\n              isSuggestedPokemon = new RegExp(regex, \"ig\");\n              suggestedPokemons = [];\n              pokemonData.forEach(function (data) {\n                if (data.name.match(isSuggestedPokemon)) {\n                  suggestedPokemons.push(data);\n                }\n              });\n              setPokemonData(suggestedPokemons);\n              console.log(\"suggestedPokemons \", suggestedPokemons);\n              return _context2.abrupt(\"return\", suggestedPokemons);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function Searchpokemon() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var nextPagePokemon = function nextPagePokemon() {\n    setActualPage(function (prevState) {\n      return prevState + 1;\n    });\n    setActive(active + 1);\n  };\n\n  var previousPagePokemon = function previousPagePokemon() {\n    setActualPage(function (prevState) {\n      return prevState - 1;\n    });\n    setActive(active - 1);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Pokemons para escolher  ou criar aqui \\xA0 \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/Creating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 60\n    }\n  }, /*#__PURE__*/React.createElement(IoMdCreate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 82\n    }\n  })), \"  \")), /*#__PURE__*/React.createElement(Search, {\n    Searchpokemon: Searchpokemon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Cards, {\n    nextPagePokemon: nextPagePokemon,\n    previousPagePokemon: previousPagePokemon,\n    actualPage: actualPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Pokedex;","map":{"version":3,"sources":["/home/jamorim/eldorado-pokedex/src/pages/pokedex/Pokedex.js"],"names":["React","useEffect","useState","Cards","Container","Title","StyledLink","Footer","Header","usePoke","Search","api","useLocation","useHistory","Link","qs","IoMdCreate","Pokedex","setPokemonData","search","active","setActive","pokemonData","setInitialdatapokemon","initialdatapokemon","location","history","getActualPage","actualPage","setActualPage","queryParams","parse","page","Number","undefined","push","stringify","loadPokemon","get","then","response","console","log","data","catch","error","Searchpokemon","regex","isSuggestedPokemon","RegExp","suggestedPokemons","forEach","name","match","nextPagePokemon","prevState","previousPagePokemon"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Cards from \"./cards/Cards\";\nimport { Container, Title, StyledLink } from \"./Stylespokedex\";\nimport Footer from \"../../components/footer/Footer\";\nimport Header from \"../../components/header/Header\";\nimport { usePoke } from \"../../components/context/Provider\";\nimport Search from \"./search/Search\";\nimport api from \"../../service/Api\";\nimport { useLocation, useHistory, Link } from \"react-router-dom\";\nimport qs from \"query-string\";\nimport {IoMdCreate} from 'react-icons/IoMdCreate'\n\nfunction Pokedex() {\n  const {\n    setPokemonData,\n    search,\n    active,\n    setActive,\n    pokemonData,\n    setInitialdatapokemon,\n    initialdatapokemon,\n  } = usePoke();\n  \n  let location = useLocation();\n  let history = useHistory();\n  const [actualPage, setActualPage] = useState(getActualPage() || 1);\n\n  function getActualPage() {\n    const queryParams = qs.parse(location.search);\n    const page = queryParams.page;\n    return page ? Number(page) : undefined;\n  }\n\n  useEffect(() => {\n    const queryParams = qs.parse(location.search);\n    history.push({\n      search: qs.stringify({\n        ...queryParams,\n        page: actualPage,\n      }),\n    });\n  }, [actualPage]);\n\n  useEffect(() => {\n    if (!search) {\n      setPokemonData(initialdatapokemon);\n      return;\n    }\n  }, [search]);\n\n  useEffect(() => {\n    async function loadPokemon() {\n      api\n        .get(`/pokemons?page=${actualPage}`)\n        .then((response) => {\n          console.log(response.data);\n          setPokemonData(response.data);\n          setInitialdatapokemon(response.data);\n        })\n        .catch((error) => {\n          console.log(\"Error getting fake data: \" + error);\n        });\n    }\n    loadPokemon();\n  }, [actualPage]);\n\n  const Searchpokemon = async () => {\n    var regex = `${search}`;\n    var isSuggestedPokemon = new RegExp(regex, \"ig\");\n\n    let suggestedPokemons = [];\n    pokemonData.forEach((data) => {\n      if (data.name.match(isSuggestedPokemon)) {\n        suggestedPokemons.push(data);\n      }\n    });\n    setPokemonData(suggestedPokemons);\n    console.log(\"suggestedPokemons \", suggestedPokemons);\n    return suggestedPokemons;\n  };\n\n  const nextPagePokemon = () => {\n    setActualPage((prevState) => prevState + 1);\n    setActive(active + 1);\n  };\n\n  const previousPagePokemon = () => {\n    setActualPage((prevState) => prevState - 1);\n    setActive(active - 1);\n  };\n\n  return (\n    <>\n      <Header />\n      <Container>\n        <Title>\n          <h3>Pokemons para escolher  ou criar aqui &nbsp; <Link to=\"/Creating\" ><IoMdCreate/></Link>  </h3>\n          \n        </Title>\n\n        <Search Searchpokemon={Searchpokemon} />\n        <Cards\n          nextPagePokemon={nextPagePokemon}\n          previousPagePokemon={previousPagePokemon}\n          actualPage={actualPage}\n        />\n\n        <Footer />\n      </Container>\n    </>\n  );\n}\n\nexport default Pokedex;\n"]},"metadata":{},"sourceType":"module"}